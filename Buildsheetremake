<!-- =============================================
*Page Name      : Buildsheetremake
*Description    : Takes input for Production based on ACT Serial number and search productions. Shows the report of selected production's Opportunity's Quote's Quotelinetems.
*Company        : Merfantz Technologies Pvt Ltd
*Date           : 6th Feb, 2020 
*Version        : 1.0 
============================================= -->

<apex:page sidebar="false" CONTROLLER="BuildSheetController" showHeader="false" renderAs="{!if(flag,'pdf','')}" applyBodyTag="false"  lightningStylesheets="{!!flag}" >
<head>
<style>

           @page{
                size: A4 potrait;
            } 
            
            th{
              width:33.3%;
              background-color: #8CD9F7;
              border:2px solid black;
            }
            
            .tblbdr{
              border-collapse: collapse; 
              border-top: 2px solid black;
              border-bottom: 2px solid black;
              border-left: 2px solid black;
              border-right: 2px solid black;
              table-layout: fixed;
            }  
           .tbltd{
             border:2px solid black;
            }  
            
            select {
              width: 20s%;
              padding: 5px 20px;
              margin: 8px 0;
              display: inline-block;
              border: 1px solid #ccc;
              border-radius: 4px;
              box-sizing: border-box;
          } 
            
           
</style>
</head>
<apex:Outputpanel rendered="{!flag}">
<table  border="1" class="tblbdr" width="100%"  >
      <tr >
            <td colspan="2" height="60"  valign="top" style="font-size:17pt;border-right:none">
             <div   >
               <b>ACT Build Sheet</b><br/>
               <font style="font-size:12pt;">
                 As of&nbsp;<apex:outputText value="{0,date,yyyy-MM-dd HH:mm:ss}">
                               <apex:param value="{!NOW()-0.2083333}"/>
                            </apex:outputText> Eastern Standard Time/EST <br/>
                            â€¢Generated by&nbsp; {!$user.firstname} {!$user.lastname}<br/>
               </font>
              </div>
              </td>
              <td height="60" style="border-left:none" valign="top">
             <div style="float:right;margin-left:25px;">
             <apex:image value="{!$Resource.ActDustCollector}" width="250px"/>
             </div>
             
             </td>
      </tr>
      
      
        <tr >
            
            <th class="tbltd" WIDTH="33.3%">ACT Serial Number</th>
            <th class="tbltd" WIDTH="33.3%"> Blower Serial Number </th>  
            <th class="tbltd" WIDTH="33.3%">Production Name </th>
        </tr>
        <tr>
            <td class="tbltd" WIDTH="33.3%"  height="20" >{!prodDetail.ACT_Serial_Number__c}</td>
            <td class="tbltd" WIDTH="33.3%"  height="20" >{!prodDetail.Blower_Serial_Number__c}</td>        
            <td class="tbltd" WIDTH="33.3%" height="20" >{!prodDetail.name}</td>
        </tr> 
              
        <tr>
            <th WIDTH="33.3%">Timer Board</th>
            <th WIDTH="33.3%">Voltage</th>
            <th WIDTH="33.3%">ACT Controls</th>  
            
        </tr>       
        <tr >
         <td class="tbltd" WIDTH="33.3%" height="20" valign="top">{!prodDetail.Timer_board__c}</td>
         <td class="tbltd" WIDTH="33.3%" height="20" valign="top">{!prodDetail.Voltage__c}</td>
         <td class="tbltd" WIDTH="33.3%" height="20" valign="top">{!prodDetail.ACT_Controls__c}</td>
        </tr>
       
     <tr>
     <th class="tbltd" WIDTH="33.3%">ACT Filters in Collector</th>
     <th class="tbltd" WIDTH="33.3%">Ship Date New</th>
     <th class="tbltd" WIDTH="33.3%">Tech Notes</th>
     </tr>
     <tr>
     <td class="tbltd" WIDTH="33.3%" height="20"><apex:outputtext value="{!prodDetail.ACT_Filters_In_Collector2__c}"/></td>
     <td class="tbltd" WIDTH="33.3%" height="20"><apex:outputtext value="{0,date,MM/dd/yy}"><apex:param value="{!prodDetail.Ship_Date_New__c }"></apex:param></apex:outputtext></td>
     <td class="tbltd" WIDTH="33.3%" valign="top" >{!prodDetail.Tech_Notes__c}</td>
     </tr>
    
      <tr>
     <th  WIDTH="33.3%">Stock Outline Summery</th>
     <th  WIDTH="33.3%">Freight Instruction</th>
     <th  WIDTH="33.3%">Ship To Address</th>
     </tr>
      
     <tr >
     
     <td style="border-bottom:2px solid blue;border-top:2px solid black;border-right:2px solid black;"  WIDTH="33.3%" valign="top"><apex:outputfield value="{!prodDetail.Special_Instructions__c}"/></td>
     <td style="border-bottom:2px solid blue;border-top:2px solid black;border-right:2px solid black;"  valign="top"><apex:outputfield value="{!prodDetail.Freight_Instructions_del__c}"/></td> 
     <td style="border-bottom:2px solid blue;border-top:2px solid black;"   valign="top"> <apex:outputfield value="{!prodDetail.SHIP_TO_ADDRESS__c}"/></td>
     </tr>
    </table> 
    <table border="1" style="border-collapse: collapse;border: 2px solid black;"  width="100%" >
     <tr>
     <td style="border-right:2px solid black;border-top:2px solid blue;width:20%"  colspan="1" ><b>Product</b></td>
     <td width="80%" style="border-right:2px solid black;border-top:2px solid blue;"  colspan="2"><b>Description</b></td>
     </tr>
     <apex:repeat value="{!qltmList}" var="qltms">
     
     <tr style="{!if(qltms.SBQQ__NetTotal__c==0.00,"display:none",'')}">
     <td width="20%"  style="border-bottom:2px solid black;border-top:2px solid black;border-right:2px solid black;" height="20" >{!qltms.SBQQ__ProductName__c} </td>
      
     <td width="80%" style="border-bottom:2px solid black;border-top:2px solid black;border-right:2px solid black;" height="20"  ><apex:outputfield value="{!qltms.SBQQ__Description__c}"/></td>
     
     </tr>
     
     
     </apex:repeat>
</table>
    
</apex:outputPanel>




<apex:form rendered="{!flag=false}">
<apex:slds />
   
<div style="padding:50px;background-color:orange;">
<apex:image value="{!$Resource.Dustcollector_new}" style="float:left;" width="150px" height="80px"/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
    <font style="text-align:center;font-size:27pt;font-family:Georgia"><b>**A.C.T. Build Sheet**</b></font>
   <apex:image value="{!$Resource.Dustcollector_new}" style="float:right" width="150px" height="80px"/> 
</div>
<br/>

<center>
<table border="0" width="100%">

 <tr>
  <td style="text-align:right;font-family:Georgia;width:50%">
    <b>ACT Serial Number: </b><br/><br/>
  </td>
  <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   <apex:inputtext value="{!actSerialNumber}" styleclass="slds-scope slds-input" style="width:200px">
   <apex:actionSupport event="onchange" rerender="quotePanel,pd,err,cmdbtn"/>
   </apex:inputtext><br/><br/>
  </td>
  </tr>
  <tr>
   <td style="text-align:right;font-family:Georgia">
     <b>Productions:</b><br/><br/>
   </td>
   <td>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<apex:selectList value="{!Slectedproduction}" size="1" id="pd"  >
      <apex:selectOptions value="{!Items}"  ></apex:selectOptions>
      <apex:actionSupport event="onchange" action="{!quotes}" reRender="err,cmdbtn"  ></apex:actionSupport>
    <!--  <apex:outputLabel value="{!msg}" id="quotePanel"></apex:outputLabel> -->
      </apex:selectList><br/><br/>
   </td>
</tr>
<!-- <tr>
  <td style="text-align:right;font-family:Georgia">
    <b>Quotes:</b><br/><br/>
  </td>
  <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    
        <apex:selectList value="{!SlectedQuote}" size="1" id="quotePanel" >
        <apex:selectOptions value="{!Quotes}" ></apex:selectOptions>
         
        </apex:selectList><br/><br/>  
    
  </td>
 </tr> -->
 <tr>
  <td colspan="2" style="margin-right:30%;font-family:Georgia;font-weight: bold;">
  <center>
   <apex:commandButton styleclass="slds-scope slds-button slds-button_neutral" action="{!pdf}" value="View PDF" disabled="{!quoteenable}"  id="cmdbtn" />
   </center>
   
  </td>
 </tr>

</table>
  
<apex:outputpanel id="err"  >
<font style="color:red;font-style: italic;"	>{!msg}</font>
</apex:outputpanel>


</center>


</apex:form>


</apex:page>
